<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 비동기 통신을 사용하기 위한 라이브러리 로드 -->
    <!-- Jquery 라이브러리 로드 -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <!-- Ajax 코드 작성 -->
    <script>
        // HTML 문서가 로드가 완료되었을 때
        $(document).ready(
            function(){
                // button 태그가 클릭되었을 때
                $('button').click(
                    function(){
                        // id가 input_1인 태그에 입력된 값을 변수에 저장한다 id니까 # 꼭 붙여줘야해 :>
                        let input_val = $("#input_1").val() // let 쓰면 파이썬처럼 변수 생성하는 방법
                                                            // 콘스타? consta 맞나 아무튼 이걸 쓰면 변수를 상수형 변수로 지정해서 변수에 다른 값을 저장하고 싶어도 변경이 안됨
                        // ajax를 이용한 비동기 통신
                        $.ajax(
                            // 데이터를 보낼 주소, 데이터를 보내는 방식, 보내고 받아오는 데이터의 형태, 데이터
                            {
                                url : '/ajax_data',
                                method : 'get',
                                dataType : 'text', // 
                                data : {
                                    'input_id' : input_val
                                }
                            }
                        )

                        // 비동기 통신을 이용하여 요청을 보낸 뒤
                        // response를 저장

                        .then(
                            function(response){
                                // 응답 메시지는 response
                                // 팝업창
                                alert(response) // 팝업을 띄우는건 alert()
                            }
                        )
                    }
                )
            }
        )
    </script>
</head>
<body>
    <h1>
        Ajax를 이용한 비동기 통신
    </h1>
    <!-- form 태그를 이용하지 않고 서버에게 데이터를 보내는 방법 -->
    <!-- 유저가 데이터를 입력하는 공간 -->
    <input type="text" id="input_1">
    <button>ID_Check</button>
    <!-- Ajax를 이용하여 서버에게 유저가 입력한 데이터를 보낸다. (버튼을 클릭했을 때)-->
    
    
    <!-- form 태그를 이용하여 입력한 데이터를 서버에게 보내는 방법 -->

    <h1>
        form 태그를 이용한 동기 통신
    </h1>

    <!-- /data(주소명)를 get 방식으로 보낸다 -->
    <!-- 주소라서 / 붙는거야 :> -->
    <form action="/data" method="get">
        <!-- form 태그를 사용하면 type에 name을 넣어야 한다 -->
        <input type="text" name="input_id">
        <input type="submit">
    </form>
    <!-- 하이퍼 링크 생성 -->
    <a href="/game">게임으로 이동</a>
</body>
</html>